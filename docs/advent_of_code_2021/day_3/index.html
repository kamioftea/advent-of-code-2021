<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This is my solution for Advent of Code - Day 3 - Binary Diagnostic"><meta name="keywords" content="rust, rustlang, rust-lang, day_3"><title>advent_of_code_2021::day_3 - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../advent_of_code_2021/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><h2 class="location">Module day_3</h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#functions">Functions</a></li></ul></div><div id="sidebar-vars" data-name="day_3" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">advent_of_code_2021</a>::<wbr><a class="mod" href="#">day_3</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/advent_of_code_2021/day_3.rs.html#1-282" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This is my solution for <a href="https://adventofcode.com/2021/day/3">Advent of Code - Day 3 - <em>Binary Diagnostic</em></a></p>
<p>Today the task was to analyse a sequence of binary data with a bunch of bitwise operators. I
ended up reworking both parts after I originally got them working with more convoluted code.</p>
<p><a href="fn.parse_input.html" title="parse_input"><code>parse_input</code></a> is used to covert the binary strings into numbers, and also returns the number
of bits per string as that is needed for some of the bitwise tricks later.
<a href="fn.analyse_diagnostics.html" title="analyse_diagnostics"><code>analyse_diagnostics</code></a> solves part one, deferring some logic to <a href="fn.count_bit.html" title="count_bit"><code>count_bit</code></a>. Originally this
was a double for loop over data and bit position, storing the counts into a mutable Vec<usize>.
I needed [<code>count_bits</code>] for my original solution to part two, and once written I refactored
<a href="fn.analyse_diagnostics.html" title="analyse_diagnostics"><code>analyse_diagnostics</code></a> to use it as well. When I later refactored <a href="fn.analyse_life_support.html" title="analyse_life_support"><code>analyse_life_support</code></a> to
no longer need [<code>count_bits</code>], <a href="fn.analyse_diagnostics.html" title="analyse_diagnostics"><code>analyse_diagnostics</code></a> was still cleaner when using
[<code>count_bits</code>] so I left it as is.</p>
<p><a href="fn.analyse_life_support.html" title="analyse_life_support"><code>analyse_life_support</code></a> solves part two. Originally it used [<code>count_bits</code>] to determine if
the bits at the current position were majority set or not, then filtered the current subset
based on that. The current partition based approach is easier to understand what is going on.</p>
</div></details><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="fn" href="fn.analyse_diagnostics.html" title="advent_of_code_2021::day_3::analyse_diagnostics fn">analyse_diagnostics</a></div><div class="item-right docblock-short"><p>This solves part one, returning the pair of required values. It calculates the gamma value by
iterating through each bit in the input strings and comparing the result of <a href="fn.count_bit.html" title="count_bit"><code>count_bit</code></a> to the
size of the data. The epsilon value is the bitwise inverse of that.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.analyse_life_support.html" title="advent_of_code_2021::day_3::analyse_life_support fn">analyse_life_support</a></div><div class="item-right docblock-short"><p>This solves part two, returning the pair of required values. The solution calls for successively
filtering the input array until only one value array, which works well as a recursive function.
The base case for this is when the provided array is of length 1, and returns the remaining
value if it is present. Otherwise split the input based on whether the bit we care about is set,
then recurse the largest/smallest half based on which value is being calculated, and the bit
position advanced by 1. Unlike part one, the recursion means there isn’t a neat trick to invert
the first result to product the second, so the recursive function is called twice, with a
flag used to switch the mode.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.count_bit.html" title="advent_of_code_2021::day_3::count_bit fn">count_bit</a></div><div class="item-right docblock-short"><p>Return the number of values in the data where all the bits set in the bitmask are also set in
the value. Utility function used by <a href="fn.analyse_diagnostics.html" title="analyse_diagnostics"><code>analyse_diagnostics</code></a>. For this puzzle, only one bit is
set in the mask at a time.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.parse_input.html" title="advent_of_code_2021::day_3::parse_input fn">parse_input</a></div><div class="item-right docblock-short"><p>Returns a pair of the parsed data and the length of the bit strings. Delegates to the built in
<a href="https://doc.rust-lang.org/1.56.1/std/primitive.usize.html#method.from_str_radix" title="usize::from_str_radix"><code>usize::from_str_radix</code></a>. The length is needed for some of the bitwise tricks.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.run.html" title="advent_of_code_2021::day_3::run fn">run</a></div><div class="item-right docblock-short"><p>The entry point for running the solutions with the ‘real’ puzzle input.</p>
</div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="advent_of_code_2021" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script>
</body></html>