<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This is my solution for Advent of Code - Day 4 - Giant Squid"><meta name="keywords" content="rust, rustlang, rust-lang, day_4"><title>advent_of_code_2021::day_4 - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a class="sidebar-logo" href="../../advent_of_code_2021/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.png" alt="logo"></div>
        </a><h2 class="location">Module day_4</h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></div><div id="sidebar-vars" data-name="day_4" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../advent_of_code_2021/index.html"><img class="rust-logo" src="../../rust-logo.png" alt="logo"></a><nav class="sub"><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">advent_of_code_2021</a>::<wbr><a class="mod" href="#">day_4</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/advent_of_code_2021/day_4.rs.html#1-340" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This is my solution for <a href="https://adventofcode.com/2021/day/4">Advent of Code - Day 4 - <em>Giant Squid</em></a></p>
<p>Today we had to build an engine to track games of Bingo. Given a set of numbers that would be
called, and a set of 100 bingo cards, the challenge was to work out the one that would win first
(part one), and the one that would win last (part two). I’m quite pleased with the data
structure I came up with to store the bingo cards, but there was a lot of fighting with the
borrow checker so I’ve ended up with some ugly bits of code.</p>
<p>The key to the solution is <a href="struct.BingoCard.html" title="BingoCard"><code>BingoCard</code></a> and <a href="fn.parse_card.html" title="parse_card"><code>parse_card</code></a> that turns the raw input into this
internal representation. The game is then simulated by repeatedly calling
<a href="struct.BingoCard.html#method.mark_number" title="BingoCard::mark_number"><code>BingoCard::mark_number</code></a> until the criteria for the current part have been met.
<a href="fn.play_bingo.html" title="play_bingo"><code>play_bingo</code></a> implements part one and just runs until a card wins, <a href="fn.play_bingo_until_last.html" title="play_bingo_until_last"><code>play_bingo_until_last</code></a>
implements part two and removes cards from the set as they win until none are left. There is
a final small helper <a href="struct.BingoCard.html#method.sum_remaining" title="BingoCard::sum_remaining"><code>BingoCard::sum_remaining</code></a> that calculates the number needed for the
final submission.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.BingoCard.html" title="advent_of_code_2021::day_4::BingoCard struct">BingoCard</a></div><div class="item-right docblock-short"><p>This represents the key information to know if a 5 x 5 bingo card has won.</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.parse_card.html" title="advent_of_code_2021::day_4::parse_card fn">parse_card</a></div><div class="item-right docblock-short"><p>This takes a string with 5 lines, each with 5 space-separated numbers, representing a 5 x 5
bingo card. A regex is used to split the numbers on a line as single digit numbers cause
there to be two spaces prefixing those numbers. <a href="https://doc.rust-lang.org/1.59.0/core/iter/traits/iterator/trait.Iterator.html#method.enumerate" title="Iterator::enumerate"><code>Iterator::enumerate</code></a> is used to track the
current co-ordinates for building the map of unmarked numbers. The row and column arrays are
initialised to 0s as no numbers have yet been marked.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.parse_input.html" title="advent_of_code_2021::day_4::parse_input fn">parse_input</a></div><div class="item-right docblock-short"><p>Parse the puzzle input into the internal representation. first there is a line of numbers in
the sequence the will be called to mark on the cards, then 100 5 x 5 grids of numbers
representing each card. The first line and each card are separated by blank lines.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.play_bingo.html" title="advent_of_code_2021::day_4::play_bingo fn">play_bingo</a></div><div class="item-right docblock-short"><p>Iterate through the numbers, marking each card as appropriate. Return the first card to win and
the number that triggered it, as both are needed to calculate the puzzle solution.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.play_bingo_until_last.html" title="advent_of_code_2021::day_4::play_bingo_until_last fn">play_bingo_until_last</a></div><div class="item-right docblock-short"><p>Iterate through the numbers, marking each card as appropriate. Very similar to <a href="fn.play_bingo.html" title="play_bingo"><code>play_bingo</code></a>
except it needs to keep going until all cards have won. This leads to some complexity to
manage removing the cards from the iterator as we’re looping over the same list.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.run.html" title="advent_of_code_2021::day_4::run fn">run</a></div><div class="item-right docblock-short"><p>The entry point for running the solutions with the ‘real’ puzzle input.</p>
</div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="advent_of_code_2021" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.59.0 (9d1b2106e 2022-02-23)" ></div>
</body></html>