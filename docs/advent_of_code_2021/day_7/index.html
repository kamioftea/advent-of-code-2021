<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This is my solution for Advent of Code - Day 7 - The Treachery of Whales"><meta name="keywords" content="rust, rustlang, rust-lang, day_7"><title>advent_of_code_2021::day_7 - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a class="sidebar-logo" href="../../advent_of_code_2021/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.png" alt="logo"></div>
        </a><h2 class="location">Module day_7</h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#functions">Functions</a></li></ul></div><div id="sidebar-vars" data-name="day_7" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../advent_of_code_2021/index.html"><img class="rust-logo" src="../../rust-logo.png" alt="logo"></a><nav class="sub"><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">advent_of_code_2021</a>::<wbr><a class="mod" href="#">day_7</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/advent_of_code_2021/day_7.rs.html#1-107" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This is my solution for <a href="https://adventofcode.com/2021/day/7">Advent of Code - Day 7 - <em>The Treachery of Whales</em></a></p>
<p>Todayâ€™s input was a bunch of ðŸ¦€ crabs ðŸ¦€ (in submarines ) who can only move sideways (despite
being in submarines ðŸ¤·.) The challenge was to find the most efficient position to align them to,
given a particular cost function for a crab submarine to move a certain distance.</p>
<p>For part one this was a linear cost, which reduces to finding the median, and calculating the
cost for each crab to move to that median. This is implemented by <a href="fn.find_distance_to_median.html" title="find_distance_to_median"><code>find_distance_to_median</code></a>.
As an informal proof for this method consider: for any given position value, incrementing that
position by one increases the overall cost by one per crab below that value, and decreases it by
one per crab above that value. Decrementing the position has the opposite effect. For any crab
other than the median, if you move the value towards the median, more crabs are on the side that
decreases the cost (by definition), and so the overall cost decreases. An interesting note in
the case of an even number of crabs, the value of either crab in the middle pair, and any values
between them will produce the same optimal cost, so in that case we can just pick one
arbitrarily.</p>
<p>For part two the cost function was the triangular number of the distance, <code>1 =&gt; 1</code>, <code>2 =&gt; 3</code>,
<code>3 =&gt; 6</code>, â€¦ or <code>(n * (n+1) ) / 2</code>. This is implemented by <a href="fn.find_triangular_distance_to_mean.html" title="find_triangular_distance_to_mean"><code>find_triangular_distance_to_mean</code></a>.
I have to admit I guessed the mean here. It seems reasonable - if the cost increases as you move
further you want a lot of crabs to move the shortest distance they can. Given there was an issue
where the rounding was slightly off (rounding the calculated mean worked for the sample, but
floor was needed for the puzzle input) I suspect the mean is the limit as the steepness of the
cost function increases, and itâ€™s close enough (Â±1) for triangular distance. But equally that
may just be a weirdness of integer maths. If anyone has information on more concrete theory
about this Iâ€™d be interested in a link.</p>
</div></details><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.find_distance_to_median.html" title="advent_of_code_2021::day_7::find_distance_to_median fn">find_distance_to_median</a></div><div class="item-right docblock-short"><p>First find the median by sorting the list and taking the value at the midpoint. As discussed in
the summary, either midpoint is fine in the case of an even length list, so just use the default
rounding. Secondly iterate through the list to total the distance to the median and sum those
values.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.find_triangular_distance_to_mean.html" title="advent_of_code_2021::day_7::find_triangular_distance_to_mean fn">find_triangular_distance_to_mean</a></div><div class="item-right docblock-short"><p>Very similar to <a href="fn.find_distance_to_median.html" title="find_distance_to_median"><code>find_distance_to_median</code></a> with three differences:</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.run.html" title="advent_of_code_2021::day_7::run fn">run</a></div><div class="item-right docblock-short"><p>The entry point for running the solutions with the â€˜realâ€™ puzzle input.</p>
</div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="advent_of_code_2021" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.59.0 (9d1b2106e 2022-02-23)" ></div>
</body></html>